{% extends "_base.html" %}

{% load url from future %}

{% block content %}
<h2>Statistics</h2>

<hr>

<h3>Handlers</h3>
<table class="table">
  <thead>
    <tr>
      <th></th>
      <th># of found versions</th>
      <th>average confidence</th>
    </tr>
  </thead>
  <tbody>
    {% for handler in handlers %}
      <tr>
        <td>
          <a href="{% url "statistics_handler" handler.handler %}">
            {{ handler.handler }}
          </a>
        </td>
        <td>{{ handler.n }}</td>
        <td>{{ handler.avg_conf }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

<hr>

<h3>Current statistics</h3>
<img alt="pie versions" src="{% url "chart" 'pie-versions' %}" />
<img alt="pie packages" src="{% url "chart" 'pie-packages' %}" />

<h3>All time statistics</h3>

<img alt="packages weekly" src="{% url "chart" 'packages-weekly' %}" />
<img alt="packages monthly" src="{% url "chart" 'packages-monthly' %}" />

<img alt="versions weekly" src="{% url "chart" 'versions-weekly' %}" />
<img alt="versions monthly" src="{% url "chart" 'versions-monthly' %}" />

{% endblock %}
